<header class="header">
   <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a class="navbar-brand" href="#">{{ site.title }}</a>
      <button class="navbar-toggler" type="button"
         data-toggle="collapse" data-target="#navbarCollapse"
         aria-controls="navbarCollapse" aria-expanded="false"
         aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
         <ul class="navbar-nav mr-auto">
            {% assign current = page.url | downcase | split: '/' %}
            {%- for node in site.pages -%}
               {% assign nodeName = node.name | downcase | split: '.' %}
               {% if current[1] == nodeName[0] %}
                  {% assign activeClass = 'active' %}
               {% else %}
                  {% assign activeClass = '' %}
               {% endif %}
               <li class="nav-item {{ activeClass }}">
                  <a class="nav-link" href="{{ node.url | relative_url }}">{{ node.title | escape }}
                     {% if current[1] == nodeName[0] %}
                     <span class="sr-only">(current)</span>
                     {% endif %}
                  </a>
               </li>
            {%- endfor -%}
         </ul>
      </div>
   </nav>
</header>